/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react","jimu-core/react-dom"],(function(e,o){var t={},n={},r={};return Object.defineProperty(n,"__esModule",{value:!0}),{setters:[function(e){t.React=e.React,t.jsx=e.jsx},function(e){Object.keys(e).forEach((function(o){n[o]=e[o]}))},function(e){r.flushSync=e.flushSync}],execute:function(){e((()=>{var e={1426:(e,o,t)=>{"use strict";var n=t(1315),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(e,o,t){var n,i={},d=null,u=null;for(n in void 0!==t&&(d=""+t),void 0!==o.key&&(d=""+o.key),void 0!==o.ref&&(u=o.ref),o)l.call(o,n)&&!c.hasOwnProperty(n)&&(i[n]=o[n]);if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return{$$typeof:r,type:e,key:d,ref:u,props:i,_owner:s.current}}o.Fragment=i,o.jsx=d,o.jsxs=d},4246:(e,o,t)=>{"use strict";e.exports=t(1426)},8891:e=>{"use strict";e.exports=t},1315:e=>{"use strict";e.exports=n},800:e=>{"use strict";e.exports=r}},o={};function i(t){var n=o[t];if(void 0!==n)return n.exports;var r=o[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.d=(e,o)=>{for(var t in o)i.o(o,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},i.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.p="";var l={};return i.p=window.jimuConfig.baseUrl,(()=>{"use strict";i.r(l),i.d(l,{default:()=>so});var e={};i.r(e),i.d(e,{DataGridDefaultRenderersProvider:()=>E,Row:()=>Oe,SELECT_COLUMN_KEY:()=>K,SelectCellFormatter:()=>F,SelectColumn:()=>B,ToggleGroup:()=>T,checkboxFormatter:()=>I,default:()=>no,headerRenderer:()=>he,sortIcon:()=>Ze,sortPriority:()=>eo,textEditor:()=>lo,toggleGroupFormatter:()=>G,useFocusRef:()=>S,useRowSelection:()=>A,valueFormatter:()=>D});var o=i(8891),t=i(1315),n=i(800);function r(e){var o,t,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e))for(o=0;o<e.length;o++)e[o]&&(t=r(e[o]))&&(n&&(n+=" "),n+=t);else for(o in e)e[o]&&(n&&(n+=" "),n+=o);return n}const s=function(){for(var e,o,t=0,n="";t<arguments.length;)(e=arguments[t++])&&(o=r(e))&&(n&&(n+=" "),n+=o);return n};var c=i(4246);const d="rdg-cell c1wupbe7-0-0-beta-28",u="rdg-cell-frozen cd0kgiy7-0-0-beta-28",a="rdg-cell-frozen-last c1730fa47-0-0-beta-28",f="rdg r104f42s7-0-0-beta-28",w="rdg-viewport-dragging v7ly7s7-0-0-beta-28",m="fc4f4zb7-0-0-beta-28",x="rdg-row r1otpg647-0-0-beta-28",p="rel5gk27-0-0-beta-28",g="rdg-row-selected",h="r1qymf1z7-0-0-beta-28",C="rdg-checkbox-label c8rwwhf7-0-0-beta-28",y="rdg-checkbox-input c1rb4brs7-0-0-beta-28",v="rdg-checkbox c1bvvwcc7-0-0-beta-28",b="rdg-checkbox-label-disabled c1yg790j7-0-0-beta-28";function I({onChange:e,...o},t){return(0,c.jsxs)("label",{className:s(C,o.disabled&&b),children:[(0,c.jsx)("input",{type:"checkbox",ref:t,...o,className:y,onChange:function(o){e(o.target.checked,o.nativeEvent.shiftKey)}}),(0,c.jsx)("div",{className:v})]})}const R="undefined"==typeof window?t.useEffect:t.useLayoutEffect;function S(e){const o=(0,t.useRef)(null);return R((()=>{e&&o.current?.focus({preventScroll:!0})}),[e]),{ref:o,tabIndex:e?0:-1}}const k=(0,t.createContext)(void 0),E=k.Provider;function j(){return(0,t.useContext)(k)}function F({value:e,isCellSelected:o,disabled:t,onChange:n,"aria-label":r,"aria-labelledby":i}){const{ref:l,tabIndex:s}=S(o),d=j().checkboxFormatter;return(0,c.jsx)(c.Fragment,{children:d({"aria-label":r,"aria-labelledby":i,tabIndex:s,disabled:t,checked:e,onChange:n},l)})}function D(e){try{return(0,c.jsx)(c.Fragment,{children:e.row[e.column.key]})}catch{return null}}const O="rdg-group-cell-content gb8l2vs7-0-0-beta-28",z="rdg-caret c1ggynjl7-0-0-beta-28";function G(e){return(0,c.jsx)(T,{...e})}function T({groupKey:e,isExpanded:o,isCellSelected:t,toggleGroup:n}){const{ref:r,tabIndex:i}=S(t),l=o?"M1 1 L 7 7 L 13 1":"M1 7 L 7 1 L 13 7";return(0,c.jsxs)("span",{ref:r,className:O,tabIndex:i,onKeyDown:function({key:e}){"Enter"===e&&n()},children:[e,(0,c.jsx)("svg",{viewBox:"0 0 14 8",width:"14",height:"8",className:z,"aria-hidden":!0,children:(0,c.jsx)("path",{d:l})})]})}const M=(0,t.createContext)(void 0),P=M.Provider,L=(0,t.createContext)(void 0),W=L.Provider;function A(){const e=(0,t.useContext)(M),o=(0,t.useContext)(L);if(void 0===e||void 0===o)throw new Error("useRowSelection must be used within DataGrid cells");return[e,o]}const K="select-row";function H(e){const[o,t]=A();return(0,c.jsx)(F,{"aria-label":"Select All",isCellSelected:e.isCellSelected,value:o,onChange:e=>{t({type:"HEADER",checked:e})}})}function N(e){const[o,t]=A();return(0,c.jsx)(F,{"aria-label":"Select",isCellSelected:e.isCellSelected,value:o,onChange:(o,n)=>{t({type:"ROW",row:e.row,checked:o,isShiftClick:n})}})}function $(e){const[o,t]=A();return(0,c.jsx)(F,{"aria-label":"Select Group",isCellSelected:e.isCellSelected,value:o,onChange:o=>{t({type:"ROW",row:e.row,checked:o,isShiftClick:!1})}})}const B={key:K,name:"",width:35,minWidth:35,maxWidth:35,resizable:!1,sortable:!1,frozen:!0,headerRenderer:e=>(0,c.jsx)(H,{...e}),formatter:e=>(0,c.jsx)(N,{...e}),groupFormatter:e=>(0,c.jsx)($,{...e})};function _(e,o,t){const n="function"==typeof e.colSpan?e.colSpan(t):1;if(Number.isInteger(n)&&n>1&&(!e.frozen||e.idx+n-1<=o))return n}function U(e){e?.scrollIntoView({inline:"nearest",block:"nearest"})}function V(e){let o=!1;const t={...e,preventGridDefault(){o=!0},isGridDefaultPrevented:()=>o};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}const q=new Set(["Unidentified","Alt","AltGraph","CapsLock","Control","Fn","FnLock","Meta","NumLock","ScrollLock","Shift","Tab","ArrowDown","ArrowLeft","ArrowRight","ArrowUp","End","Home","PageDown","PageUp","Insert","ContextMenu","Escape","Pause","Play","PrintScreen","F1","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12"]);function Y(e){return(e.ctrlKey||e.metaKey)&&"Control"!==e.key}const X="m1l09lto7-0-0-beta-28";function J(e){return(0,c.jsx)(c.Fragment,{children:e.map((({key:e,idx:o,minWidth:t,maxWidth:n})=>(0,c.jsx)("div",{className:X,style:{gridColumnStart:o+1,minWidth:t,maxWidth:n},"data-measuring-cell-key":e},e)))})}function Q({selectedPosition:e,columns:o,rows:t,isGroupRow:n}){const r=o[e.idx],i=t[e.rowIdx];return!n(i)&&Z(r,i)}function Z(e,o){return null!=e.editor&&!e.rowGroup&&!1!==("function"==typeof e.editable?e.editable(o):e.editable)}function ee({rows:e,topSummaryRows:o,bottomSummaryRows:t,rowIdx:n,lastFrozenColumnIndex:r,column:i,isGroupRow:l}){const s=o?.length??0,c=-1-s;if(n===c)return _(i,r,{type:"HEADER"});if(o&&n>c&&n<=s+c)return _(i,r,{type:"SUMMARY",row:o[n+s]});if(n>=0&&n<e.length){const o=e[n];return l(o)?void 0:_(i,r,{type:"ROW",row:o})}return t?_(i,r,{type:"SUMMARY",row:t[n-e.length]}):void 0}function oe(e,o){return void 0!==o?{"--rdg-grid-row-start":e,"--rdg-row-height":`${o}px`}:{"--rdg-grid-row-start":e}}function te(e,o){return{gridColumnStart:e.idx+1,gridColumnEnd:void 0!==o?`span ${o}`:void 0,insetInlineStart:e.frozen?`var(--rdg-frozen-left-${e.idx})`:void 0}}function ne(e,...o){return s(d,...o,e.frozen&&u,e.isLastFrozenColumn&&a)}const{min:re,max:ie,round:le,floor:se,sign:ce,abs:de}=Math;function ue(e){if("function"!=typeof e)throw new Error("Please specify the rowKeyGetter prop to use selection")}function ae(e,{minWidth:o,maxWidth:t}){return e=ie(e,o),"number"==typeof t&&t>=o?re(e,t):e}const fe="auto",we=80;function me(e){const o=(0,t.useRef)(e);(0,t.useEffect)((()=>{o.current=e}));const n=(0,t.useCallback)(((...e)=>{o.current(...e)}),[]);return e?n:e}function xe(e,o){const[n,r]=(0,t.useState)(!1);n&&!e&&r(!1);const i=(0,t.useCallback)((e=>{null!==e&&(o?.current?o.current=!1:(U(e),e.contains(document.activeElement)||e.focus({preventScroll:!0})))}),[o]);return{ref:e?i:void 0,tabIndex:e&&!n?0:-1,onFocus:e?function(e){e.target!==e.currentTarget&&r(!0)}:void 0}}const pe="rdg-header-sort-cell h1e8ezgp7-0-0-beta-28",ge="rdg-header-sort-name h1rrblhe7-0-0-beta-28";function he({column:e,sortDirection:o,priority:t,onSort:n,isCellSelected:r}){return e.sortable?(0,c.jsx)(Ce,{onSort:n,sortDirection:o,priority:t,isCellSelected:r,children:e.name}):(0,c.jsx)(c.Fragment,{children:e.name})}function Ce({onSort:e,sortDirection:o,priority:t,children:n,isCellSelected:r}){const i=j().sortStatus,{ref:l,tabIndex:s}=S(r);return(0,c.jsxs)("span",{ref:l,tabIndex:s,className:pe,onClick:function(o){e(o.ctrlKey||o.metaKey)},onKeyDown:function(o){" "!==o.key&&"Enter"!==o.key||(o.preventDefault(),e(o.ctrlKey||o.metaKey))},children:[(0,c.jsx)("span",{className:ge,children:n}),(0,c.jsx)("span",{children:i({sortDirection:o,priority:t})})]})}const ye="rdg-cell-resizable celq7o97-0-0-beta-28";function ve({column:e,colSpan:o,isCellSelected:t,onColumnResize:n,sortColumns:r,onSortColumnsChange:i,selectCell:l,shouldFocusGrid:s,direction:d}){const u="rtl"===d,{ref:a,tabIndex:f,onFocus:w}=xe(t),m=r?.findIndex((o=>o.columnKey===e.key)),x=void 0!==m&&m>-1?r[m]:void 0,p=x?.direction,g=void 0!==x&&r.length>1?m+1:void 0,h=p&&!g?"ASC"===p?"ascending":"descending":void 0,C=ne(e,e.headerCellClass,e.resizable&&ye),y=e.headerRenderer??he;return(0,c.jsx)("div",{role:"columnheader","aria-colindex":e.idx+1,"aria-selected":t,"aria-sort":h,"aria-colspan":o,ref:a,tabIndex:s?0:f,className:C,style:te(e,o),onFocus:function(e){w?.(e),s&&l(0)},onClick:function(){l(e.idx)},onDoubleClick:e.resizable?function(o){const{right:t,left:r}=o.currentTarget.getBoundingClientRect();(u?o.clientX-r:t-o.clientX)>11||n(e,"max-content")}:void 0,onPointerDown:e.resizable?function(o){if("mouse"===o.pointerType&&1!==o.buttons)return;const{currentTarget:t,pointerId:r}=o,{right:i,left:l}=t.getBoundingClientRect(),s=u?o.clientX-l:i-o.clientX;function c(o){o.preventDefault();const{right:r,left:i}=t.getBoundingClientRect(),l=u?r+s-o.clientX:o.clientX+s-i;l>0&&n(e,l)}s>11||(t.setPointerCapture(r),t.addEventListener("pointermove",c),t.addEventListener("lostpointercapture",(function e(){t.removeEventListener("pointermove",c),t.removeEventListener("lostpointercapture",e)})))}:void 0,children:y({column:e,sortDirection:p,priority:g,onSort:function(o){if(null==i)return;const{sortDescendingFirst:t}=e;if(void 0===x){const n={columnKey:e.key,direction:t?"DESC":"ASC"};i(r&&o?[...r,n]:[n])}else{let n;if((!0===t&&"DESC"===p||!0!==t&&"ASC"===p)&&(n={columnKey:e.key,direction:"ASC"===p?"DESC":"ASC"}),o){const e=[...r];n?e[m]=n:e.splice(m,1),i(e)}else i(n?[n]:[])}},isCellSelected:t})})}const be="rdg-header-row h197vzie7-0-0-beta-28";function Ie({columns:e,onColumnResize:o,sortColumns:t,onSortColumnsChange:n,lastFrozenColumnIndex:r,selectedCellIdx:i,selectCell:l,shouldFocusGrid:d,direction:u}){const a=[];for(let s=0;s<e.length;s++){const f=e[s],w=_(f,r,{type:"HEADER"});void 0!==w&&(s+=w-1),a.push((0,c.jsx)(ve,{column:f,colSpan:w,isCellSelected:i===f.idx,onColumnResize:o,onSortColumnsChange:n,sortColumns:t,selectCell:l,shouldFocusGrid:d&&0===s,direction:u},f.key))}return(0,c.jsx)("div",{role:"row","aria-rowindex":1,className:s(be,-1===i&&g),style:oe(1),children:a})}const Re=(0,t.memo)(Ie),Se="rdg-cell-copied ccpfvsn7-0-0-beta-28",ke="rdg-cell-dragged-over c1bmg16t7-0-0-beta-28";function Ee({column:e,colSpan:o,isCellSelected:t,isCopied:n,isDraggedOver:r,row:i,rowIdx:l,dragHandle:s,skipCellFocusRef:d,onClick:u,onDoubleClick:a,onContextMenu:f,onRowChange:w,selectCell:m,...x}){const{ref:p,tabIndex:g,onFocus:h}=xe(t,d),{cellClass:C}=e,y=ne(e,"function"==typeof C?C(i):C,n&&Se,r&&ke),v=Z(e,i);function b(o){m({rowIdx:l,idx:e.idx},o)}return(0,c.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-selected":t,"aria-colspan":o,"aria-readonly":!v||void 0,ref:p,tabIndex:g,className:y,style:te(e,o),onClick:function(o){if(u){const t=V(o);if(u({row:i,column:e,selectCell:b},t),t.isGridDefaultPrevented())return}b()},onDoubleClick:function(o){if(a){const t=V(o);if(a({row:i,column:e,selectCell:b},t),t.isGridDefaultPrevented())return}b(!0)},onContextMenu:function(o){if(f){const t=V(o);if(f({row:i,column:e,selectCell:b},t),t.isGridDefaultPrevented())return}b()},onFocus:h,...x,children:!e.rowGroup&&(0,c.jsxs)(c.Fragment,{children:[e.formatter({column:e,row:i,isCellSelected:t,isCellEditable:v,onRowChange:function(o){w(e,o)}}),s]})})}const je=(0,t.memo)(Ee);function Fe({className:e,rowIdx:o,gridRowStart:t,height:n,selectedCellIdx:r,isRowSelected:i,copiedCellIdx:l,draggedOverCellIdx:d,lastFrozenColumnIndex:u,row:a,viewportColumns:f,selectedCellEditor:w,selectedCellDragHandle:m,skipCellFocusRef:p,onCellClick:h,onCellDoubleClick:C,onCellContextMenu:y,rowClass:v,setDraggedOverRowIdx:b,onMouseEnter:I,onRowChange:R,selectCell:S,...k},E){const j=me(((e,t)=>{R(e,o,t)}));e=s(x,"rdg-row-"+(o%2==0?"even":"odd"),v?.(a),e,-1===r&&g);const F=[];for(let e=0;e<f.length;e++){const t=f[e],{idx:n}=t,i=_(t,u,{type:"ROW",row:a});void 0!==i&&(e+=i-1);const s=r===n;s&&w?F.push(w):F.push((0,c.jsx)(je,{column:t,colSpan:i,row:a,rowIdx:o,isCopied:l===n,isDraggedOver:d===n,isCellSelected:s,dragHandle:s?m:void 0,onClick:h,onDoubleClick:C,onContextMenu:y,onRowChange:j,selectCell:S,skipCellFocusRef:p},t.key))}return(0,c.jsx)(P,{value:i,children:(0,c.jsx)("div",{role:"row",ref:E,className:e,onMouseEnter:function(e){b?.(o),I?.(e)},style:oe(t,n),...k,children:F})})}const De=(0,t.memo)((0,t.forwardRef)(Fe)),Oe=De;function ze(e,o){return(0,c.jsx)(De,{...o},e)}function Ge({id:e,groupKey:o,childRows:t,isExpanded:n,isCellSelected:r,column:i,row:l,groupColumnIndex:s,toggleGroup:d}){const{ref:u,tabIndex:a,onFocus:f}=xe(r);function w(){d(e)}const m=i.rowGroup&&s===i.idx;return(0,c.jsx)("div",{role:"gridcell","aria-colindex":i.idx+1,"aria-selected":r,ref:u,tabIndex:a,className:ne(i),style:{...te(i),cursor:m?"pointer":"default"},onClick:m?w:void 0,onFocus:f,children:(!i.rowGroup||s===i.idx)&&i.groupFormatter?.({groupKey:o,childRows:t,column:i,row:l,isExpanded:n,isCellSelected:r,toggleGroup:w})},i.key)}const Te=(0,t.memo)(Ge),Me="rdg-group-row gyxx7e97-0-0-beta-28";function Pe({id:e,groupKey:o,viewportColumns:t,childRows:n,rowIdx:r,row:i,gridRowStart:l,height:d,level:u,isExpanded:a,selectedCellIdx:f,isRowSelected:w,selectGroup:m,toggleGroup:p,...h}){const C=t[0].key===K?u+1:u;return(0,c.jsx)(P,{value:w,children:(0,c.jsx)("div",{role:"row","aria-level":u,"aria-expanded":a,className:s(x,Me,"rdg-row-"+(r%2==0?"even":"odd"),-1===f&&g),onClick:function(){m(r)},style:oe(l,d),...h,children:t.map((t=>(0,c.jsx)(Te,{id:e,groupKey:o,childRows:n,isExpanded:a,isCellSelected:f===t.idx,column:t,row:i,groupColumnIndex:C,toggleGroup:p},t.key)))})})}const Le=(0,t.memo)(Pe),We="s1n3hxke7-0-0-beta-28";function Ae({column:e,colSpan:o,row:t,rowIdx:n,isCellSelected:r,selectCell:i}){const{ref:l,tabIndex:s,onFocus:d}=xe(r),{summaryCellClass:u}=e,a=ne(e,We,"function"==typeof u?u(t):u);return(0,c.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,"aria-selected":r,ref:l,tabIndex:s,className:a,style:te(e,o),onClick:function(){i({rowIdx:n,idx:e.idx})},onFocus:d,children:e.summaryFormatter?.({column:e,row:t,isCellSelected:r})})}const Ke=(0,t.memo)(Ae),He="t14bmecc7-0-0-beta-28",Ne="b1odhhml7-0-0-beta-28",$e="rdg-summary-row snfqesz7-0-0-beta-28",Be="rdg-top-summary-row t1jijrjz7-0-0-beta-28";function _e({rowIdx:e,gridRowStart:o,row:t,viewportColumns:n,top:r,bottom:i,lastFrozenColumnIndex:l,selectedCellIdx:d,isTop:u,showBorder:a,selectCell:f,"aria-rowindex":w}){const m=[];for(let o=0;o<n.length;o++){const r=n[o],i=_(r,l,{type:"SUMMARY",row:t});void 0!==i&&(o+=i-1);const s=d===r.idx;m.push((0,c.jsx)(Ke,{column:r,colSpan:i,row:t,rowIdx:e,isCellSelected:s,selectCell:f},r.key))}return(0,c.jsx)("div",{role:"row","aria-rowindex":w,className:s(x,"rdg-row-"+(e%2==0?"even":"odd"),$e,u?[Be,a&&He]:["rdg-bottom-summary-row",a&&Ne],-1===d&&g),style:{...oe(o),"--rdg-summary-row-top":void 0!==r?`${r}px`:void 0,"--rdg-summary-row-bottom":void 0!==i?`${i}px`:void 0},children:m})}const Ue=(0,t.memo)(_e),Ve="c1tngyp17-0-0-beta-28";function qe({column:e,colSpan:o,row:n,rowIdx:r,skipCellFocusRef:i,onRowChange:l,closeEditor:s,onKeyDown:d,navigate:u}){const a=(0,t.useRef)(),f=!1!==e.editorOptions?.commitOnOutsideClick,w=me((()=>{x(!0)})),m=(0,t.useCallback)((()=>{i.current=!1,f&&cancelAnimationFrame(a.current)}),[f,i]);function x(e){e?l(n,!0):s()}(0,t.useEffect)((()=>{function e(){i.current=!0,f&&(a.current=requestAnimationFrame(w))}return addEventListener("mousedown",e,{capture:!0}),()=>{removeEventListener("mousedown",e,{capture:!0}),m()}}),[m,f,w,i]);const{cellClass:p}=e,g=ne(e,"rdg-editor-container","function"==typeof p?p(n):p,!e.editorOptions?.renderFormatter&&Ve);return(0,c.jsx)("div",{role:"gridcell","aria-colindex":e.idx+1,"aria-colspan":o,"aria-selected":!0,className:g,style:te(e,o),onKeyDown:function(o){if(d){const t=V(o);if(d({mode:"EDIT",row:n,column:e,rowIdx:r,navigate(){u(o)},onClose:x},t),t.isGridDefaultPrevented())return}"Escape"===o.key?x():"Enter"===o.key?x(!0):function({key:e,target:o}){return"Tab"===e&&(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement||o instanceof HTMLSelectElement)&&o.matches(".rdg-editor-container > :only-child, .rdg-editor-container > label:only-child > :only-child, .rdg-editor-container > div:only-child > label:only-child > :only-child")}(o)&&u(o)},onMouseDownCapture:m,children:null!=e.editor&&(0,c.jsxs)(c.Fragment,{children:[e.editor({column:e,row:n,onRowChange:l,onClose:x}),e.editorOptions?.renderFormatter&&e.formatter({column:e,row:n,isCellSelected:!0,isCellEditable:!0,onRowChange:l})]})})}const Ye="rdg-cell-drag-handle cadd3bp7-0-0-beta-28";function Xe({rows:e,columns:o,selectedPosition:t,latestDraggedOverRowIdx:n,isCellEditable:r,onRowsChange:i,onFill:l,setDragging:s,setDraggedOverRowIdx:d}){function u(n,s){const{idx:c,rowIdx:d}=t,u=o[c],a=e[d],f=[...e],w=[];for(let o=n;o<s;o++)if(r({rowIdx:o,idx:c})){const t=l({columnKey:u.key,sourceRow:a,targetRow:e[o]});t!==e[o]&&(f[o]=t,w.push(o))}w.length>0&&i?.(f,{indexes:w,column:u})}return(0,c.jsx)("div",{className:Ye,onMouseDown:function(e){function o(e){1!==e.buttons&&r()}function r(){window.removeEventListener("mouseover",o),window.removeEventListener("mouseup",r),s(!1),function(){const e=n.current;if(void 0===e)return;const{rowIdx:o}=t;u(o<e?o+1:e,o<e?e+1:o),d(void 0)}()}1===e.buttons&&(s(!0),window.addEventListener("mouseover",o),window.addEventListener("mouseup",r))},onDoubleClick:function(o){o.stopPropagation(),u(t.rowIdx+1,e.length)}})}const Je="rdg-sort-arrow a1mygwml7-0-0-beta-28";function Qe({sortDirection:e,priority:o}){return(0,c.jsxs)(c.Fragment,{children:[Ze({sortDirection:e}),eo({priority:o})]})}function Ze({sortDirection:e}){return void 0===e?null:(0,c.jsx)("svg",{viewBox:"0 0 12 8",width:"12",height:"8",className:Je,"aria-hidden":!0,children:(0,c.jsx)("path",{d:"ASC"===e?"M0 8 6 0 12 8":"M0 0 6 8 12 0"})})}function eo({priority:e}){return e}function oo(e,o){const{columns:r,rows:i,topSummaryRows:l,bottomSummaryRows:d,rowKeyGetter:u,onRowsChange:a,rowHeight:x,headerRowHeight:g,summaryRowHeight:C,selectedRows:y,onSelectedRowsChange:v,sortColumns:b,onSortColumnsChange:S,defaultColumnOptions:k,groupBy:F,rowGrouper:O,expandedGroupIds:z,onExpandedGroupIdsChange:T,onCellClick:M,onCellDoubleClick:L,onCellContextMenu:A,onCellKeyDown:H,onScroll:N,onColumnResize:$,onFill:B,onCopy:X,onPaste:Z,enableVirtualization:oe,renderers:te,className:ne,style:le,rowClass:xe,direction:pe,"aria-label":ge,"aria-labelledby":he,"aria-describedby":Ce,"data-testid":ye}=e,ve=j(),be=x??35,Ie=g??("number"==typeof be?be:35),Se=C??("number"==typeof be?be:35),ke=te?.rowRenderer??ve?.rowRenderer??ze,Ee=te?.sortStatus??ve?.sortStatus??Qe,je=te?.checkboxFormatter??ve?.checkboxFormatter??I,Fe=te?.noRowsFallback??ve?.noRowsFallback,De=oe??!0,Oe=pe??"ltr",Ge=l?.length??0,Te=d?.length??0,Me=Ge+Te,Pe=1+Ge,We=-Pe,[Ae,Ke]=(0,t.useState)(0),[He,Ne]=(0,t.useState)(0),[$e,Be]=(0,t.useState)((()=>new Map)),[_e,Ve]=(0,t.useState)((()=>({idx:-1,rowIdx:We-1,mode:"SELECT"}))),[Ye,Je]=(0,t.useState)(null),[Ze,eo]=(0,t.useState)(!1),[oo,no]=(0,t.useState)(void 0),ro=(0,t.useRef)(_e),io=(0,t.useRef)(oo),lo=(0,t.useRef)(-1),so=(0,t.useRef)(null),co=(0,t.useRef)(!1),[uo,ao,fo,wo]=function(){const e=(0,t.useRef)(null),[o,n]=(0,t.useState)(1),[r,i]=(0,t.useState)(1),[l,s]=(0,t.useState)(!1);return R((()=>{const{ResizeObserver:o}=window;if(null==o)return;const{clientWidth:t,clientHeight:r,offsetWidth:l,offsetHeight:c}=e.current,{width:d,height:u}=e.current.getBoundingClientRect(),a=u-c+r;n(d-l+t),i(a),s(!0);const f=new o((e=>{const o=e[0].contentBoxSize[0];n(o.inlineSize),i(o.blockSize)}));return f.observe(e.current),()=>{f.disconnect()}}),[]),[e,o,r,l]}(),mo=fo-Ie-Me*Se,xo=null!=y&&null!=v,po="rtl"===Oe,go=po?"ArrowRight":"ArrowLeft",ho=po?"ArrowLeft":"ArrowRight",Co=(0,t.useMemo)((()=>({sortStatus:Ee,checkboxFormatter:je})),[Ee,je]),yo=(0,t.useMemo)((()=>{const{length:e}=i;return 0!==e&&null!=y&&null!=u&&y.size>=e&&i.every((e=>y.has(u(e))))}),[i,y,u]),{columns:vo,colSpanColumns:bo,colOverscanStartIdx:Io,colOverscanEndIdx:Ro,templateColumns:So,layoutCssVars:ko,columnMetrics:Eo,lastFrozenColumnIndex:jo,totalFrozenColumnWidth:Fo,groupBy:Do}=function({rawColumns:e,columnWidths:o,viewportWidth:n,scrollLeft:r,defaultColumnOptions:i,rawGroupBy:l,enableVirtualization:s}){const c=i?.width??fe,d=i?.minWidth??we,u=i?.maxWidth??void 0,a=i?.formatter??D,f=i?.sortable??!1,w=i?.resizable??!1,{columns:m,colSpanColumns:x,lastFrozenColumnIndex:p,groupBy:g}=(0,t.useMemo)((()=>{const o=[];let t=-1;const n=e.map((e=>{const o=l?.includes(e.key)??!1,n=o||e.frozen||!1,r={...e,idx:0,frozen:n,isLastFrozenColumn:!1,rowGroup:o,width:e.width??c,minWidth:e.minWidth??d,maxWidth:e.maxWidth??u,sortable:e.sortable??f,resizable:e.resizable??w,formatter:e.formatter??a};return o&&(r.groupFormatter??(r.groupFormatter=G)),n&&t++,r}));n.sort((({key:e,frozen:o},{key:t,frozen:n})=>e===K?-1:t===K?1:l?.includes(e)?l.includes(t)?l.indexOf(e)-l.indexOf(t):-1:l?.includes(t)?1:o?n?0:-1:n?1:0));const r=[];return n.forEach(((e,t)=>{e.idx=t,e.rowGroup&&o.push(e.key),null!=e.colSpan&&r.push(e)})),-1!==t&&(n[t].isLastFrozenColumn=!0),{columns:n,colSpanColumns:r,lastFrozenColumnIndex:t,groupBy:o}}),[e,c,d,u,a,w,f,l]),{templateColumns:h,layoutCssVars:C,totalFrozenColumnWidth:y,columnMetrics:v}=(0,t.useMemo)((()=>{const e=new Map;let t=0,n=0;const r=[];for(const n of m){let i=o.get(n.key)??n.width;i="number"==typeof i?ae(i,n):n.minWidth,r.push(`${i}px`),e.set(n,{width:i,left:t}),t+=i}if(-1!==p){const o=e.get(m[p]);n=o.left+o.width}const i={gridTemplateColumns:r.join(" ")};for(let o=0;o<=p;o++){const t=m[o];i[`--rdg-frozen-left-${t.idx}`]=`${e.get(t).left}px`}return{templateColumns:r,layoutCssVars:i,totalFrozenColumnWidth:n,columnMetrics:e}}),[o,m,p]),[b,I]=(0,t.useMemo)((()=>{if(!s)return[0,m.length-1];const e=r+y,o=r+n,t=m.length-1,i=re(p+1,t);if(e>=o)return[i,i];let l=i;for(;l<t;){const{left:o,width:t}=v.get(m[l]);if(o+t>e)break;l++}let c=l;for(;c<t;){const{left:e,width:t}=v.get(m[c]);if(e+t>=o)break;c++}return[ie(i,l-1),re(t,c+1)]}),[v,m,p,r,y,n,s]);return{columns:m,colSpanColumns:x,colOverscanStartIdx:b,colOverscanEndIdx:I,templateColumns:h,layoutCssVars:C,columnMetrics:v,lastFrozenColumnIndex:p,totalFrozenColumnWidth:y,groupBy:g}}({rawColumns:r,columnWidths:$e,scrollLeft:He,viewportWidth:ao,defaultColumnOptions:k,rawGroupBy:O?F:void 0,enableVirtualization:De}),{rowOverscanStartIdx:Oo,rowOverscanEndIdx:zo,rows:Go,rowsCount:To,totalRowHeight:Mo,gridTemplateRows:Po,isGroupRow:Lo,getRowTop:Wo,getRowHeight:Ao,findRowIdx:Ko}=function({rawRows:e,rowHeight:o,clientHeight:n,scrollTop:r,groupBy:i,rowGrouper:l,expandedGroupIds:s,enableVirtualization:c}){const[d,u]=(0,t.useMemo)((()=>{if(0===i.length||null==l)return[void 0,e.length];const o=(e,[t,...n],r)=>{let i=0;const s={};for(const[c,d]of Object.entries(l(e,t))){const[e,t]=0===n.length?[d,d.length]:o(d,n,r+i+1);s[c]={childRows:d,childGroups:e,startRowIndex:r+i},i+=t+1}return[s,i]};return o(e,i,0)}),[i,l,e]),[a,f]=(0,t.useMemo)((()=>{const o=new Set;if(!d)return[e,r];const t=[],n=(e,r,i)=>{var l;l=e,Array.isArray(l)?t.push(...e):Object.keys(e).forEach(((l,c,d)=>{const u=void 0!==r?`${r}__${l}`:l,a=s?.has(u)??!1,{childRows:f,childGroups:w,startRowIndex:m}=e[l],x={id:u,parentId:r,groupKey:l,isExpanded:a,childRows:f,level:i,posInSet:c,startRowIndex:m,setSize:d.length};t.push(x),o.add(x),a&&n(w,u,i+1)}))};return n(d,void 0,0),[t,r];function r(e){return o.has(e)}}),[s,d,e]),{totalRowHeight:w,gridTemplateRows:m,getRowTop:x,getRowHeight:p,findRowIdx:g}=(0,t.useMemo)((()=>{if("number"==typeof o)return{totalRowHeight:o*a.length,gridTemplateRows:` repeat(${a.length}, ${o}px)`,getRowTop:e=>e*o,getRowHeight:()=>o,findRowIdx:e=>se(e/o)};let e=0,t=" ";const n=a.map((n=>{const r=f(n)?o({type:"GROUP",row:n}):o({type:"ROW",row:n}),i={top:e,height:r};return t+=`${r}px `,e+=r,i})),r=e=>ie(0,re(a.length-1,e));return{totalRowHeight:e,gridTemplateRows:t,getRowTop:e=>n[r(e)].top,getRowHeight:e=>n[r(e)].height,findRowIdx(e){let o=0,t=n.length-1;for(;o<=t;){const r=o+se((t-o)/2),i=n[r].top;if(i===e)return r;if(i<e?o=r+1:i>e&&(t=r-1),o>t)return t}return 0}}}),[f,o,a]);let h=0,C=a.length-1;if(c){const e=4,o=g(r),t=g(r+n);h=ie(0,o-e),C=re(a.length-1,t+e)}return{rowOverscanStartIdx:h,rowOverscanEndIdx:C,rows:a,rowsCount:u,totalRowHeight:w,gridTemplateRows:m,isGroupRow:f,getRowTop:x,getRowHeight:p,findRowIdx:g}}({rawRows:i,groupBy:Do,rowGrouper:O,rowHeight:be,clientHeight:mo,scrollTop:Ae,expandedGroupIds:z,enableVirtualization:De}),{viewportColumns:Ho,flexWidthViewportColumns:No}=function({columns:e,colSpanColumns:o,rows:n,topSummaryRows:r,bottomSummaryRows:i,colOverscanStartIdx:l,colOverscanEndIdx:s,lastFrozenColumnIndex:c,rowOverscanStartIdx:d,rowOverscanEndIdx:u,columnWidths:a,isGroupRow:f}){const w=(0,t.useMemo)((()=>{if(0===l)return 0;let e=l;const t=(o,t)=>void 0!==t&&o+t>l&&(e=o,!0);for(const l of o){const o=l.idx;if(o>=e)break;if(t(o,_(l,c,{type:"HEADER"})))break;for(let e=d;e<=u;e++){const r=n[e];if(!f(r)&&t(o,_(l,c,{type:"ROW",row:r})))break}if(null!=r)for(const e of r)if(t(o,_(l,c,{type:"SUMMARY",row:e})))break;if(null!=i)for(const e of i)if(t(o,_(l,c,{type:"SUMMARY",row:e})))break}return e}),[d,u,n,r,i,l,c,o,f]),{viewportColumns:m,flexWidthViewportColumns:x}=(0,t.useMemo)((()=>{const o=[],t=[];for(let n=0;n<=s;n++){const r=e[n];n<w&&!r.frozen||(o.push(r),"string"==typeof r.width&&t.push(r))}return{viewportColumns:o,flexWidthViewportColumns:t}}),[w,s,e]);return{viewportColumns:m,flexWidthViewportColumns:(0,t.useMemo)((()=>x.filter((e=>!a.has(e.key)))),[x,a])}}({columns:vo,colSpanColumns:bo,colOverscanStartIdx:Io,colOverscanEndIdx:Ro,lastFrozenColumnIndex:jo,rowOverscanStartIdx:Oo,rowOverscanEndIdx:zo,rows:Go,topSummaryRows:l,bottomSummaryRows:d,columnWidths:$e,isGroupRow:Lo}),$o=Do.length>0&&"function"==typeof O,Bo=$o?-1:0,_o=vo.length-1,Uo=Go.length+Te-1,Vo=xt(_e),qo=pt(_e),Yo=me((function(e,o){const{style:t}=uo.current,n=[...So];n[e.idx]="max-content"===o?o:`${o}px`,t.gridTemplateColumns=n.join(" ");const r=uo.current.querySelector(`[data-measuring-cell-key="${e.key}"]`).getBoundingClientRect().width,i=`${r}px`;if(n[e.idx]!==i&&(n[e.idx]=i,t.gridTemplateColumns=n.join(" ")),$e.get(e.key)===r)return;const l=new Map($e);l.set(e.key,r),Be(l),$?.(e.idx,r)})),Xo=me(S),Jo=me(M),Qo=me(L),Zo=me(A),et=me(st),ot=me(at),tt=me(ht),nt=me((e=>{ht({rowIdx:e,idx:-1})})),rt=me((e=>{ht({rowIdx:We,idx:e})})),it=me(ct);R((()=>{Vo&&!to(_e,ro.current)?(ro.current=_e,-1===_e.idx&&(so.current.focus({preventScroll:!0}),U(so.current))):ro.current=_e})),R((()=>{wo&&0!==No.length&&Be((e=>{const o=new Map(e),t=uo.current;for(const e of No){const n=t.querySelector(`[data-measuring-cell-key="${e.key}"]`),{width:r}=n.getBoundingClientRect();o.set(e.key,r)}return o}))}),[wo,No,uo]),(0,t.useImperativeHandle)(o,(()=>({element:uo.current,scrollToColumn:Ct,scrollToRow(e){const{current:o}=uo;o&&o.scrollTo({top:Wo(e),behavior:"smooth"})},selectCell:ht})));const lt=(0,t.useCallback)((e=>{no(e),io.current=e}),[]);function st(e){if(!v)return;if("HEADER"===e.type)return void function(e){if(!v)return;ue(u);const o=new Set(y);for(const t of i){const n=u(t);e?o.add(n):o.delete(n)}v(o)}(e.checked);const{row:o,checked:t,isShiftClick:n}=e;ue(u);const r=new Set(y);if(Lo(o)){for(const e of o.childRows){const o=u(e);t?r.add(o):r.delete(o)}return void v(r)}const l=u(o);if(t){r.add(l);const e=lo.current,t=Go.indexOf(o);if(lo.current=t,n&&-1!==e&&e!==t){const o=ce(t-e);for(let n=e+o;n!==t;n+=o){const e=Go[n];Lo(e)||r.add(u(e))}}}else r.delete(l),lo.current=-1;v(r)}function ct(e){if(!T)return;const o=new Set(z);o.has(e)?o.delete(e):o.add(e),T(o)}function dt(e){const{idx:o,rowIdx:t,mode:n}=_e;if("EDIT"===n)return;const r=Go[t];if(!Lo(r)&&H){const n=V(e);if(H({mode:"SELECT",row:r,column:vo[o],rowIdx:t,selectCell:ht},n),n.isGridDefaultPrevented())return}if(!(e.target instanceof Element))return;const l=null!==e.target.closest(".rdg-cell"),s=$o&&e.target===so.current;if(!l&&!s)return;const{key:c,keyCode:d}=e;if(qo&&(null!=Z||null!=X)&&Y(e)&&!Lo(Go[t])){const e=86;if(67===d)return void function(){const{idx:e,rowIdx:o}=_e,t=i[ut(o)],n=vo[e].key;Je({row:t,columnKey:n}),X?.({sourceRow:t,sourceColumnKey:n})}();if(d===e)return void function(){if(!Z||!a||null===Ye||!gt(_e))return;const{idx:e,rowIdx:o}=_e,t=vo[e],n=i[ut(o)];at(t,o,Z({sourceRow:Ye.row,sourceColumnKey:Ye.columnKey,targetRow:n,targetColumnKey:t.key}))}()}if(mt(t)&&Lo(r)&&-1===_e.idx&&(c===go&&r.isExpanded||c===ho&&!r.isExpanded))return e.preventDefault(),void ct(r.id);switch(e.key){case"Escape":return void Je(null);case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"Tab":case"Home":case"End":case"PageUp":case"PageDown":yt(e);break;default:!function(e){if(!qo)return;const o=Go[_e.rowIdx];if(Lo(o))return;const{key:t,shiftKey:n}=e;if(xo&&n&&" "===t){ue(u);const t=u(o);return st({type:"ROW",row:o,checked:!y.has(t),isShiftClick:!1}),void e.preventDefault()}gt(_e)&&function(e){return!q.has(e.key)}(e)&&Ve((({idx:e,rowIdx:t})=>({idx:e,rowIdx:t,mode:"EDIT",row:o,originalRow:o})))}(e)}}function ut(e){return $o?i.indexOf(Go[e]):e}function at(e,o,t){if("function"!=typeof a)return;const n=ut(o);if(t===i[n])return;const r=[...i];r[n]=t,a(r,{indexes:[n],column:e})}function ft(){"EDIT"===_e.mode&&at(vo[_e.idx],_e.rowIdx,_e.row)}function wt(e){return e>=Bo&&e<=_o}function mt(e){return e>=0&&e<Go.length}function xt({idx:e,rowIdx:o}){return o>=We&&o<=Uo&&wt(e)}function pt({idx:e,rowIdx:o}){return mt(o)&&wt(e)}function gt(e){return pt(e)&&Q({columns:vo,rows:Go,selectedPosition:e,isGroupRow:Lo})}function ht(e,o){if(xt(e))if(ft(),o&&gt(e)){const o=Go[e.rowIdx];Ve({...e,mode:"EDIT",row:o,originalRow:o})}else to(_e,e)?U(uo.current?.querySelector('[tabindex="0"]')):Ve({...e,mode:"SELECT"})}function Ct(e){const{current:o}=uo;if(o&&e>jo){const{rowIdx:t}=_e;if(!xt({rowIdx:t,idx:e}))return;const{clientWidth:n}=o,r=vo[e],{left:i,width:s}=Eo.get(r);let c=i+s;const u=ee({rows:Go,topSummaryRows:l,bottomSummaryRows:d,rowIdx:t,lastFrozenColumnIndex:jo,column:r,isGroupRow:Lo});if(void 0!==u){const{left:e,width:o}=Eo.get(vo[r.idx+u-1]);c=e+o}const a=c>n+He,f=po?-1:1;i<He+Fo?o.scrollLeft=(i-Fo)*f:a&&(o.scrollLeft=(c-n)*f)}}function yt(e){const{key:o,shiftKey:t}=e;let n="NONE";if("Tab"===o){if(function({maxColIdx:e,minRowIdx:o,maxRowIdx:t,selectedPosition:{rowIdx:n,idx:r},shiftKey:i}){return i?0===r&&n===o:r===e&&n===t}({shiftKey:t,maxColIdx:_o,minRowIdx:We,maxRowIdx:Uo,selectedPosition:_e}))return void ft();n="CHANGE_ROW"}e.preventDefault();const r=function(e,o,t){const{idx:n,rowIdx:r}=_e,i=Go[r],l=Vo&&-1===n;if(e===go&&l&&Lo(i)&&!i.isExpanded&&0!==i.level){let e=-1;for(let o=_e.rowIdx-1;o>=0;o--){const t=Go[o];if(Lo(t)&&t.id===i.parentId){e=o;break}}if(-1!==e)return{idx:n,rowIdx:e}}switch(e){case"ArrowUp":return{idx:n,rowIdx:r-1};case"ArrowDown":return{idx:n,rowIdx:r+1};case go:return{idx:n-1,rowIdx:r};case ho:return{idx:n+1,rowIdx:r};case"Tab":return{idx:n+(t?-1:1),rowIdx:r};case"Home":return l?{idx:n,rowIdx:0}:{idx:0,rowIdx:o?We:r};case"End":return l?{idx:n,rowIdx:Go.length-1}:{idx:_o,rowIdx:o?Uo:r};case"PageUp":{if(_e.rowIdx===We)return _e;const e=Wo(r)+Ao(r)-mo;return{idx:n,rowIdx:e>0?Ko(e):0}}case"PageDown":{if(_e.rowIdx>=Go.length)return _e;const e=Wo(r)+mo;return{idx:n,rowIdx:e<Mo?Ko(e):Go.length-1}}default:return _e}}(o,Y(e),t);if(to(_e,r))return;const i=function({cellNavigationMode:e,columns:o,colSpanColumns:t,rows:n,topSummaryRows:r,bottomSummaryRows:i,minRowIdx:l,maxRowIdx:s,currentPosition:{idx:c},nextPosition:d,lastFrozenColumnIndex:u,isCellWithinBounds:a,isGroupRow:f}){let{idx:w,rowIdx:m}=d;const x=e=>{if(m>=0&&m<n.length){const e=n[m];if(f(e))return}for(const o of t){const t=o.idx;if(t>w)break;const l=ee({rows:n,topSummaryRows:r,bottomSummaryRows:i,rowIdx:m,lastFrozenColumnIndex:u,column:o,isGroupRow:f});if(l&&w>t&&w<l+t){w=t+(e?l:0);break}}};if(a(d)&&x(w-c>0),"CHANGE_ROW"===e){const e=o.length,t=-1===w;w===e?m===s||(w=0,m+=1):t&&(m===l||(m-=1,w=e-1),x(!1))}return{idx:w,rowIdx:m}}({columns:vo,colSpanColumns:bo,rows:Go,topSummaryRows:l,bottomSummaryRows:d,minRowIdx:We,maxRowIdx:Uo,lastFrozenColumnIndex:jo,cellNavigationMode:n,currentPosition:_e,nextPosition:r,isCellWithinBounds:xt,isGroupRow:Lo});ht(i)}function vt(e){if(void 0===oo)return;const{rowIdx:o}=_e;return(o<oo?o<e&&e<=oo:o>e&&e>=oo)?_e.idx:void 0}function bt(e){if(_e.rowIdx===e&&"EDIT"!==_e.mode&&!$o&&null!=B)return(0,c.jsx)(Xe,{rows:i,columns:vo,selectedPosition:_e,isCellEditable:gt,latestDraggedOverRowIdx:io,onRowsChange:a,onFill:B,setDragging:eo,setDraggedOverRowIdx:lt})}function It(e){if(_e.rowIdx!==e||"SELECT"===_e.mode)return;const{idx:o,row:t}=_e,r=vo[o],i=_(r,jo,{type:"ROW",row:t}),l=()=>{Ve((({idx:e,rowIdx:o})=>({idx:e,rowIdx:o,mode:"SELECT"})))};return Go[_e.rowIdx]!==_e.originalRow&&l(),(0,c.jsx)(qe,{column:r,colSpan:i,row:t,rowIdx:e,skipCellFocusRef:co,onRowChange:(e,o)=>{o?(0,n.flushSync)((()=>{at(r,_e.rowIdx,e),l()})):Ve((o=>({...o,row:e})))},closeEditor:l,onKeyDown:H,navigate:yt},r.key)}function Rt(e){const o=vo[_e.idx];return void 0===o||_e.rowIdx!==e||Ho.includes(o)?Ho:_e.idx>Ro?[...Ho,o]:[...Ho.slice(0,jo+1),o,...Ho.slice(jo+1)]}(_e.idx>_o||_e.rowIdx>Uo)&&(Ve({idx:-1,rowIdx:We-1,mode:"SELECT"}),lt(void 0));let St=`${Ie}px`;Ge>0&&(St+=` repeat(${Ge}, ${Se}px)`),Go.length>0&&(St+=Po),Te>0&&(St+=` repeat(${Te}, ${Se}px)`);const kt=-1===_e.idx&&_e.rowIdx!==We-1;return(0,c.jsxs)("div",{role:$o?"treegrid":"grid","aria-label":ge,"aria-labelledby":he,"aria-describedby":Ce,"aria-multiselectable":!!xo||void 0,"aria-colcount":vo.length,"aria-rowcount":1+To+Me,className:s(f,ne,Ze&&w),style:{...le,scrollPaddingInlineStart:_e.idx>jo?`${Fo}px`:void 0,scrollPaddingBlock:_e.rowIdx>=0&&_e.rowIdx<Go.length?`${Ie+Ge*Se}px ${Te*Se}px`:void 0,gridTemplateRows:St,"--rdg-header-row-height":`${Ie}px`,"--rdg-summary-row-height":`${Se}px`,"--rdg-sign":po?-1:1,...function(){if(0===No.length)return ko;const e=[...So];for(const o of No)e[o.idx]=o.width;return{...ko,gridTemplateColumns:e.join(" ")}}()},dir:Oe,ref:uo,onScroll:function(e){const{scrollTop:o,scrollLeft:t}=e.currentTarget;(0,n.flushSync)((()=>{Ke(o),Ne(de(t))})),N?.(e)},onKeyDown:dt,"data-testid":ye,children:[$o&&(0,c.jsx)("div",{ref:so,tabIndex:kt?0:-1,className:s(m,kt&&[p,-1!==jo&&h]),style:{gridRowStart:_e.rowIdx+Pe+1},onKeyDown:dt}),(0,c.jsxs)(E,{value:Co,children:[(0,c.jsx)(W,{value:et,children:(0,c.jsx)(P,{value:yo,children:(0,c.jsx)(Re,{columns:Rt(-1),onColumnResize:Yo,sortColumns:b,onSortColumnsChange:Xo,lastFrozenColumnIndex:jo,selectedCellIdx:_e.rowIdx===We?_e.idx:void 0,selectCell:rt,shouldFocusGrid:!Vo,direction:Oe})})}),0===Go.length&&Fe?Fe:(0,c.jsxs)(c.Fragment,{children:[l?.map(((e,o)=>{const t=1+o+1,n=o+We+1,r=_e.rowIdx===n,i=Ie+Se*o;return(0,c.jsx)(Ue,{"aria-rowindex":t,rowIdx:n,gridRowStart:t,row:e,top:i,bottom:void 0,viewportColumns:Rt(n),lastFrozenColumnIndex:jo,selectedCellIdx:r?_e.idx:void 0,isTop:!0,showBorder:o===Ge-1,selectCell:tt},o)})),(0,c.jsx)(W,{value:et,children:function(){const e=[];let o=0;const{idx:t,rowIdx:n}=_e,r=qo&&n>zo?zo+1:zo;for(let i=qo&&n<Oo?Oo-1:Oo;i<=r;i++){const r=i===Oo-1||i===zo+1,l=r?n:i;let s=Ho;const d=vo[t];void 0!==d&&(s=r?[d]:Rt(l));const a=Go[l],f=Pe+l+1;if(Lo(a)){({startRowIndex:o}=a);const r=xo&&a.childRows.every((e=>y.has(u(e))));e.push((0,c.jsx)(Le,{"aria-level":a.level+1,"aria-setsize":a.setSize,"aria-posinset":a.posInSet+1,"aria-rowindex":Pe+o+1,"aria-selected":xo?r:void 0,id:a.id,groupKey:a.groupKey,viewportColumns:s,childRows:a.childRows,rowIdx:l,row:a,gridRowStart:f,height:Ao(l),level:a.level,isExpanded:a.isExpanded,selectedCellIdx:n===l?t:void 0,isRowSelected:r,selectGroup:nt,toggleGroup:it},a.id));continue}let w;o++;let m=!1;"function"==typeof u?(w=u(a),m=y?.has(w)??!1):w=$o?o:l,e.push(ke(w,{"aria-rowindex":Pe+($o?o:l)+1,"aria-selected":xo?m:void 0,rowIdx:l,row:a,viewportColumns:s,isRowSelected:m,onCellClick:Jo,onCellDoubleClick:Qo,onCellContextMenu:Zo,rowClass:xe,gridRowStart:f,height:Ao(l),copiedCellIdx:null!==Ye&&Ye.row===a?vo.findIndex((e=>e.key===Ye.columnKey)):void 0,selectedCellIdx:n===l?t:void 0,draggedOverCellIdx:vt(l),setDraggedOverRowIdx:Ze?lt:void 0,lastFrozenColumnIndex:jo,onRowChange:ot,selectCell:tt,selectedCellDragHandle:bt(l),selectedCellEditor:It(l),skipCellFocusRef:co}))}return e}()}),d?.map(((e,o)=>{const t=Pe+Go.length+o+1,n=Go.length+o,r=_e.rowIdx===n,i=mo>Mo?fo-Se*(d.length-o):void 0,l=void 0===i?Se*(d.length-1-o):void 0;return(0,c.jsx)(Ue,{"aria-rowindex":Pe+To+o+1,rowIdx:n,gridRowStart:t,row:e,top:i,bottom:l,viewportColumns:Rt(n),lastFrozenColumnIndex:jo,selectedCellIdx:r?_e.idx:void 0,isTop:!1,showBorder:0===o,selectCell:tt},o)}))]}),J(Ho)]})]})}function to(e,o){return e.idx===o.idx&&e.rowIdx===o.rowIdx}const no=(0,t.forwardRef)(oo),ro="rdg-text-editor tlmcuo07-0-0-beta-28";function io(e){e?.focus(),e?.select()}function lo({row:e,column:o,onRowChange:t,onClose:n}){return(0,c.jsx)("input",{className:ro,ref:io,value:e[o.key],onChange:n=>t({...e,[o.key]:n.target.value}),onBlur:()=>n(!0)})}class so extends o.React.PureComponent{constructor(e){super(e),this.columns=[{key:"id",name:"ID"},{key:"title",name:"Title"},{key:"count",name:"Count"}],this.rows=[{id:0,title:"row1",count:20},{id:1,title:"row1",count:40},{id:2,title:"row1",count:60}],this.state={}}render(){return(0,o.jsx)("div",{className:"widget-d3 jimu-widget p-2"},(0,o.jsx)("p",null,"React Data Grid sample"),(0,o.jsx)("p",null,(0,o.jsx)(e,{columns:this.columns,rowGetter:e=>this.rows[e],rowsCount:3,minHeight:150})))}}})(),l})())}}}));