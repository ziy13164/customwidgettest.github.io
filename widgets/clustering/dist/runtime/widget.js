System.register(["jimu-core","jimu-arcgis","jimu-ui"],(function(e,t){var i={},s={},r={};return{setters:[function(e){i.React=e.React,i.jsx=e.jsx},function(e){s.JimuMapViewComponent=e.JimuMapViewComponent},function(e){r.Checkbox=e.Checkbox,r.Label=e.Label,r.WidgetPlaceholder=e.WidgetPlaceholder}],execute:function(){e((()=>{var e={7126:e=>{e.exports="data:image/svg+xml;base64,PCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjMyIiBoZWlnaHQ9IjMyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgo8dGl0bGU+Y2x1c3RlcjwvdGl0bGU+CjxwYXRoIGQ9Ik0xMCA0aC00Yy0xLjEgMC0yIDAuOS0yIDJ2NGMwIDEuMSAwLjkgMiAyIDJoNGMxLjEgMCAyLTAuOSAyLTJ2LTRjMC0xLjEtMC45LTItMi0yeiI+PC9wYXRoPgo8cGF0aCBkPSJNMjIgMTJoNGMxLjEgMCAyLTAuOSAyLTJ2LTRjMC0xLjEtMC45LTItMi0yaC00Yy0xLjEgMC0yIDAuOS0yIDJ2NGMwIDEuMSAwLjkgMiAyIDJ6TTIyIDZoNHY0aC00di00eiI+PC9wYXRoPgo8cGF0aCBkPSJNMTAgMjBoLTRjLTEuMSAwLTIgMC45LTIgMnY0YzAgMS4xIDAuOSAyIDIgMmg0YzEuMSAwIDItMC45IDItMnYtNGMwLTEuMS0wLjktMi0yLTJ6TTEwIDI2aC00di00aDR2NHoiPjwvcGF0aD4KPHBhdGggZD0iTTI2IDIwaC00Yy0xLjEgMC0yIDAuOS0yIDJ2NGMwIDEuMSAwLjkgMiAyIDJoNGMxLjEgMCAyLTAuOSAyLTJ2LTRjMC0xLjEtMC45LTItMi0yeiI+PC9wYXRoPgo8cGF0aCBkPSJNMjggMTZoLTJjLTIuNjcxIDAtNS4xODItMS4wNDAtNy4wNzEtMi45MjlzLTIuOTI5LTQuNC0yLjkyOS03LjA3MXYtMmMwLTIuMi0xLjgtNC00LTRoLThjLTIuMiAwLTQgMS44LTQgNHY4YzAgMi4yIDEuOCA0IDQgNGgyYzIuNjcxIDAgNS4xODIgMS4wNDAgNy4wNzEgMi45MjlzMi45MjkgNC40IDIuOTI5IDcuMDcxdjJjMCAyLjIgMS44IDQgNCA0aDhjMi4yIDAgNC0xLjggNC00di04YzAtMi4yLTEuOC00LTQtNHpNMzAgMjhjMCAwLjUzLTAuMjA5IDEuMDMxLTAuNTg5IDEuNDExcy0wLjg4MSAwLjU4OS0xLjQxMSAwLjU4OWgtOGMtMC41MyAwLTEuMDMxLTAuMjA5LTEuNDExLTAuNTg5cy0wLjU4OS0wLjg4MS0wLjU4OS0xLjQxMXYtMmMwLTYuNjI3LTUuMzczLTEyLTEyLTEyaC0yYy0wLjUzIDAtMS4wMzEtMC4yMDktMS40MTEtMC41ODlzLTAuNTg5LTAuODgxLTAuNTg5LTEuNDExdi04YzAtMC41MyAwLjIwOS0xLjAzMSAwLjU4OS0xLjQxMXMwLjg4MS0wLjU4OSAxLjQxMS0wLjU4OWg4YzAuNTMgMCAxLjAzMSAwLjIwOSAxLjQxMSAwLjU4OXMwLjU4OSAwLjg4MSAwLjU4OSAxLjQxMXYyYzAgNi42MjcgNS4zNzMgMTIgMTIgMTJoMmMwLjUzIDAgMS4wMzEgMC4yMDkgMS40MTEgMC41ODlzMC41ODkgMC44ODEgMC41ODkgMS40MTF2OHoiPjwvcGF0aD4KPC9zdmc+Cg=="},6826:e=>{"use strict";e.exports=s},8891:e=>{"use strict";e.exports=i},726:e=>{"use strict";e.exports=r}},t={};function M(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,M),r.exports}M.d=(e,t)=>{for(var i in t)M.o(t,i)&&!M.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},M.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),M.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.p="";var u={};return M.p=window.jimuConfig.baseUrl,(()=>{"use strict";M.r(u),M.d(u,{default:()=>s});var e=M(8891),t=M(6826),i=M(726);class s extends e.React.PureComponent{constructor(e){super(e),this.clusterConfig={type:"cluster",clusterRadius:"100px",popupTemplate:{content:"This cluster represents <b>{cluster_count}</b> points.",fieldInfos:[{fieldName:"cluster_count",format:{digitSeparator:!0,places:0}}]},clusterMinSize:"24px",clusterMaxSize:"60px",labelingInfo:[{deconflictionStrategy:"none",labelExpressionInfo:{expression:"Text($feature.cluster_count, '#,###')"},labelPlacement:"center-center"}]},this.onCheckBoxChange=e=>{const t=e.target.value;this.setState({clusterStatus:t},(()=>{this.clusterSwitch(this.state.clusterStatus)}))},this.clusterSwitch=e=>{this.state.clusterStatus&&(this.state.jimuMapView.jimuLayerViews[this.state.clusterLayer].layer.featureReduction=this.clusterConfig),this.state.clusterStatus||(this.state.jimuMapView.jimuLayerViews[this.state.clusterLayer].layer.featureReduction=this.state.clusterStatus?this.clusterConfig:null)},this.activeViewChangeHandler=e=>{if(e){const t=e.jimuLayerViews,i=Object.keys(t)[0];if(void 0===i)return void(e=null);this.setState({jimuMapView:e,clusterLayer:i,errorTip:!1})}else this.setState({jimuMapView:void 0,clusterLayer:void 0,errorTip:!0,clusterStatus:!1})},this.state={jimuMapView:void 0,clusterLayer:void 0,clusterStatus:!1,errorTip:!0}}renderWidgetPlaceholder(){return(0,e.jsx)(i.WidgetPlaceholder,{icon:M(7126),widgetId:this.props.id,message:"Please select a web map with a feature layer to enable point clustering."})}render(){var s;const r=(0,e.jsx)(t.JimuMapViewComponent,{useMapWidgetId:null===(s=this.props.useMapWidgetIds)||void 0===s?void 0:s[0],onActiveViewChange:this.activeViewChangeHandler});let M=null;return M=this.state.errorTip||!(this.props.useMapWidgetIds&&this.props.useMapWidgetIds.length>0)?this.renderWidgetPlaceholder():(0,e.jsx)(i.Label,{style:{cursor:"pointer"}},(0,e.jsx)(i.Checkbox,{checked:this.state.clusterStatus,onChange:e=>{this.onCheckBoxChange({target:{value:e.target.checked}})}})," Cluster points "),(0,e.jsx)("div",{style:{height:"100%"},className:"cluster-map"},M,(0,e.jsx)("div",null,r))}}})(),u})())}}}));